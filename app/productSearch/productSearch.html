<div ng-controller="ProductSearchCtrl" xmlns="http://www.w3.org/1999/html">
    <div id="left-side-container" class="query-container">
        <div class="content-container" id="builder-content">
            <div class="query-information">
                <h3>Products API</h3>
                <p>The <a href="https://developer.bestbuy.com/documentation/products-api">Products API</a> gives you access to the full Best Buy catalog. The query builder provides a subset of search functionality and product attributes to create sample requests and responses.</p>
                <h4><span class="icon-stack numberIcon">
                    <i class="icon-circle icon-stack-base"></i>
                    <span class="icon-fixed-width char-overlay">1</span>
                    </span> Search for Products</h4>
                <div class="content-container">  
                    <p for="category">You can <a href="https://developer.bestbuy.com/documentation#advancedSearch-search">search</a> by a category, an attribute value, a keyword or any combination of these:</p>
                    <select id="category" ng-model="category"
                                ng-options="opt as opt.label for opt in categories"></select>
                    </p>
                    <div id="complexSearch">
                        <form>
                            <select id="attribute" ng-model="attributeOption"
                                    ng-options="attr as attr.text for attr in attributeOptions"></select>
                            <select ng-show="attributeOption.value" id="operator" ng-model="operator"
                                    ng-options="opt as opt.value for opt in attributeOption.operator"></select>
                            <input ng-show="attributeOption.value" type="text" ng-model="complexVal" placeholder="{{attributeOption.placeholder}}">
                        </form>
                    </div>
                    <input spaceless type="text" id="keywordSearchInput" class="rounded" placeholder="Enter Keyword(s)" ng-model="keywordSearch"></input>
                    <br/>
                </div>
                <h4><span class="icon-stack numberIcon">
                    <i class="icon-circle icon-stack-base"></i>
                    <span class="icon-fixed-width char-overlay">2</span>
                    </span> Build Your Response</h4>
                <div class="content-container">
                        <p for="category">Select attributes and criteria for response:</p>
                        <div class="showOptionsCheckbox">
                            <label ng-repeat="opt in showOptions">
                                <input type="checkbox" checklist-model="option.showOptions" checklist-value="opt.value">
                                {{opt.text}}
                            </label>
                        </div>
                        <br/>
            <div class="row">
                <div class="col-md-6">
                    <p>
                        <span>Sort By</span>
                            <select ng-model="sortBy" ng-options="opt as opt.text for opt in sortByOptions"></select>
                    </p>
                </div>
                <div class="col-md-6">
                    <p>
                        <span>Sort Order</span>
                            <select ng-model="sortOrder" ng-options="opt as opt.text for opt in sortOrderOptions"></select>
                    </p>
                </div>
            </div>
                </div>
             <h4><span class="icon-stack numberIcon">
                    <i class="icon-circle icon-stack-base"></i>
                    <span class="icon-fixed-width char-overlay">3</span>
                    </span> Pagination</h4>
            <div class="content-container">
                <form name="pagesizeform">
                <p>Specify additional results per page or return subsequent pages by updating the Results Per Page and Page values:</p>
                Results Per Page: <input class="rounded" id="pagination" ng-model="pagesize" type="number" min="1" max="100" required>
                <span class="error" ng-show="pagesizeform.input.$error.number">Not valid number!</span>
                Page: <input class="rounded" id="whichPage" ng-model="whichPage" type="number" min="1" max="900" required>
                </form>

            </div>
            <br/>
                <button class="query-button" ng-click="resetParams()">RESET Query</button>
                <button class="query-button" ng-click="invokeRemixQuery()">RUN Query</button>
            </div>
        </div>
    </div>
    <div id="right-side-container" class="query-container">
        <h4 class="container urlBreakdown">URL Breakdown</h4>
        <div class="content-container"><label>Here is an anatomy of your request, showing all of the "pieces" that make up your complete URL:</label>
            <div id="exampleUrl" class="content-container">
                <p><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation#advancedSearch-search">baseURL</a> : https://api.remix.bestbuy.com/v1/products</p>
                <p ng-show="category.value"><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation/products-api#documentation/products-api-categorizations">categoryId</a> : (categoryPath.id=<span ng-bind="category.value"></span>)</p>
                <p><a class="breakdownLabel" href="https://remix.mashery.com/member/register">apiKey</a> : ?apiKey=<span ng-bind="apiKey"></span><span ng-show="sortBy != 'none'"></p>
                <p><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation#sort-sort">sortOptions</a> : &sort=<span ng-bind="sortBy.value"></span>.<span ng-bind="sortOrder.value"></span>'</span></p>
                <p><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation#show-show">showOptions</a> : &show=<span ng-bind="option.showOptions.join(',')"></span></p>
                <p><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation#pagination-pagination">pagination</a> : pageSize=<span ng-bind="pagesize"></span>&page=<span ng-bind="whichPage"></span></p>
                <p><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation#responseFormat-response-format">callback</a> : &callback=JSON_CALLBACK</span></p>
                <p><a class="breakdownLabel" href="https://developer.bestbuy.com/documentation#responseFormat-response-format">responseFormat</a> : &format=json</p>
            </div>
        </div>
        <h4 class="container">Complete URL</h4>
        <div class="content-container" id="response-content">
            <p>#request:
                <button id="copy-button" class="copy-button" type="button" clip-copy="buildRemixQuery()" tooltip="copy" tooltip-placement="right">
                    <img src="assets/clipboard_white.png" width="20" height="20" alt="copy"/></button>
            </p>
            <h5><span id="remix-query" class="query-text" ng-bind="buildRemixQuery()"></span></h5>
            <div>
                <p>#response:
                    <button id="copy-button" class="copy-button" type="button" clip-copy="remixResults | json" tooltip="copy" tooltip-placement="right">
                    <img src="assets/clipboard_white.png" width="20" height="20" alt="copy"/></button>
                </p>
                <textarea class="query-result" id="product-query-result" ng-bind="remixResults | json"></textarea>

            </div>
        </div>
    </div>
</div>
