<div ng-controller="ProductSearchCtrl" xmlns="http://www.w3.org/1999/html">
    <div id="left-side-container" class="query-container">
        <div class="content-container" id="builder-content">
            <div class="query-information">
                <h1><a href="https://developer.bestbuy.com/documentation/products-api">Products API</a></h1>
                <p>Our Products API allows you to query for Best Buy products sorted by specific attributes.</p>
                <h4>Search for Products</h4>
                <p>
                    <p for="category">Select a category, keyword or other attribute:</p>
                    Category:<select id="category" ng-model="category"
                            ng-options="opt as opt.label for opt in categories"></select>
                </p>
                <div id="complexSearch">
                    <form>
                        Attr:<select id="attribute" ng-model="attributeOption"
                                ng-options="attr as attr.value for attr in attributeOptions"></select>
                        Operator:<select id="operator" ng-model="operatorOption"
                                ng-options="opt as opt.value for opt in operatorOptions"></select>
                        Value:<input type="text" ng-model="complexVal" placeholder="{{attributeOption.placeholder}}">
                    </form>
                </div>
                <h4>What product information do you want to show in your results?</h4>

                <div class="container showOptionsCheckbox">
                    <label ng-repeat="opt in showOptions">
                        <input type="checkbox" checklist-model="option.showOptions" checklist-value="opt.text">
                        {{opt.text}}
                    </label>
                </div>
 
            <div class="row">
                <div class="col-md-6">
                    <p>
                        <span>Sort by</span>
                            <div class="content-container">
                                <input id="sort-by-customerTopRated" type="radio" name="sortBy" ng-model="sortBy" value="customerTopRated">Customer Top Rated</input><br/>
                                <input id="sort-by-sku" type="radio" name="sortBy" ng-model="sortBy" value="sku">SKU</input>
                                <br/>
                                <input id="sort-by-saleprice" type="radio" name="sortBy" ng-model="sortBy" value="salePrice">Sale
                                Price</input>
                            </div>
                    </p>
                </div>
                <div class="col-md-6">
                    <p>
                        <span>Sort order</span>
                        <div class="content-container">
                            <input id="sort-order-asc" type="radio" name="sortOrder" ng-model="sortOrder" ng-checked="true"
                                   value="asc">Ascending</input>
                            <br/>
                            <input id="sort-order-desc" type="radio" name="sortOrder" ng-model="sortOrder" value="desc">Descending</input>
                        </div>
                    </p>
                </div>
            </div>

             <h4>Pagination</h4>
            <div class="content-container">
                <form name="pagesizeform">
                <p>Select a number of results you want to return, or leave blank for a default of 10 results.</p>
                Results per page: <input id="pagination" ng-model="pagesize" type="number" min="1" max="100" required>
                <span class="error" ng-show="pagesizeform.input.$error.number">Not valid number!</span>
                Return page: <input id="whichPage" ng-model="whichPage" type="number" min="1" max="900" required>
                </form>

            </div>

                <button class="query-button" ng-click="invokeRemixQuery()">RUN query</button>
                <button class="query-button" ng-click="resetParams()">RESET query</button>
            </div>
        </div>
    </div>
    <div id="right-side-container" class="query-container">
        <h4 class="container">URL Breakdown</h4>
        <div class="content-container"><label>This is the anatomy of your request, showing all of the "pieces" that make up your completed URL:</label>
            <div id="exampleUrl" class="content-container">
                <p>baseURL : https://api.remix.bestbuy.com/v1/products</p>
                <p>categoryId : (categoryPath.id=<span ng-bind="category.value"></span>)</p>
                <p>apiKey : ?apiKey=<span ng-bind="apiKey"></span><span ng-show="sortBy != 'none'"></p>
                <p>sortOptions : &sort=<span ng-bind="sortBy"></span>.<span ng-bind="sortOrder"></span>'</span></p>
                <p>showOptions : &show=<span ng-bind="option.showOptions.join(',')"></span></p>
                <p>responseFormat : &format=json</p>
            </div>
        </div>
        <h4 class="container">Completed URL</h4>
        <div class="content-container" id="response-content">
            <p>#request:
                <button id="copy-button" class="copy-button" type="button" clip-copy="buildRemixQuery()">
                    <img src="assets/clipboard_white.png" width="20" height="20" alt="copy"/></button>
            </p>
            <h5><span id="remix-query" class="query-text" ng-bind="buildRemixQuery()"></span></h5>
            <div>
                <p>#response:</p>
                <textarea class="query-result" id="product-query-result">{{ remixResults | json }}</textarea>

            </div>
        </div>
    </div>
</div>
